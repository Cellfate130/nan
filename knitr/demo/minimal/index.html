<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Minimal examples - Examples for Rnw, Markdown, HTML and LaTeX  - Yihui Xie | 谢益辉</title>
    <meta property="og:title" content="Minimal examples - Yihui Xie | 谢益辉">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="For beginners, it is probably a good idea to start with some minimal examples; here I provide a few examples for Rnw, LaTeX, Markdown and HTML, respectively.
[&amp;hellip;] Regardless of which format you &amp;hellip;">
      <meta property="og:description" content="For beginners, it is probably a good idea to start with some minimal examples; here I provide a few examples for Rnw, LaTeX, Markdown and HTML, respectively.
[&amp;hellip;] Regardless of which format you &amp;hellip;">
      
    

    
    
    <meta name="twitter:image" content="https://db.yihui.name/imgur/ODApG.png">
    
    
    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
<link rel="stylesheet" href="/css/custom.css" />

  </head>

  
  <body class="knitr">
    <header class="masthead">
      

<h1><a href="/knitr/"><img src="/knitr/images/knit-logo.png" alt="knitr logo" /></a></h1>
<p class="tagline">knitr: elegant, flexible, and fast dynamic report generation with R</p>


      <nav class="menu">
  <ul>
  
  
  <li><a href="/knitr/">Home</a></li>
  
  <li><a href="/knitr/options/">Options</a></li>
  
  <li><a href="/knitr/hooks/">Hooks</a></li>
  
  <li><a href="/knitr/demos/">Examples</a></li>
  
  <li><a href="/knitr/faq/">FAQ</a></li>
  
  <li><a href="https://github.com/yihui/knitr">Github repo</a></li>
  
  <li><a href="/">Yihui Xie</a></li>
  
  

<li class="menu-extra"></li>



<li><a href="https://github.com/rbind/yihui/edit/master/content/knitr%5cdemo%5c2011-12-03-minimal.md" target="_blank">Edit this page</a></li>


<li><a href="/knitr/index.xml" type="application/rss+xml" title="RSS feed">Subscribe</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">License</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Minimal examples</h1>
<h1><span class="subtitle">Examples for Rnw, Markdown, HTML and LaTeX</span></h2>

<h3>
2011-12-03</h3>

<hr>


      </header>





<p>For beginners, it is probably a good idea to start with some minimal examples; here I provide a few examples for Rnw, LaTeX, Markdown and HTML, respectively.</p>

<h2 id="how-is-a-report-generated-from-r-code">How is a report generated from R code</h2>

<p>Regardless of which format you use, the basic idea is the same: <strong>knitr</strong> extracts R code in the input document, evaluates it and writes the results to the output document. There are two types of R code: chunks (code as separate paragraphs) and inline R code. For example, here we show a code chunk (using traditional Sweave syntax):</p>

<pre><code class="language-tex">Example text outside R code here; we know the value of
pi is \Sexpr{pi}.
</code></pre>

<pre><code class="language-r">&lt;&lt;my-label, eval=TRUE, dev='png'&gt;&gt;=
set.seed(1213)  # for reproducibility
x = cumsum(rnorm(100))
mean(x)  # mean of x
plot(x, type = 'l')  # Brownian motion
@
</code></pre>

<pre><code class="language-tex">Other text outside R code here.
</code></pre>

<p>After weaving this chunk, we get the output as below. Compare them and you will realize the inline code <code>\Sexpr{pi}</code> is replaced by the value of <code>pi</code>, and the code chunk is also evaluated &ndash; numerical results are printed and plots are inserted in the output as well.</p>

<pre><code class="language-tex">Example text outside R code here; we know the value of
pi is 3.1415926.
</code></pre>

<pre><code class="language-r">set.seed(1213)  # for reproducibility
x = cumsum(rnorm(100))
mean(x)  # mean of x
## [1] -1.939758
plot(x, type = 'l')  # Brownian motion
</code></pre>

<p><img src="https://db.yihui.name/imgur/ODApG.png" alt="knitr graphics output" /></p>

<pre><code class="language-tex">Other text outside R code here.
</code></pre>

<p>Now hopefully you have got an idea of how automatic report generation works. There are many options of which we can make use to tune the results, for example, we can use <code>echo=FALSE</code> to hide the R souce code (usually you do not want R code to appear in a final report, unless you are writing a tutorial on R), or <code>results='hide'</code> to hide the printed results (e.g. you will not see <code>## [1] -1.939758</code> above if you use this option), or control the format, size and alignment of plots. Beside local chunk options which you write between <code>&lt;&lt;</code> and <code>&gt;&gt;=</code>, you can also set options globally like:</p>

<pre><code class="language-r">knitr::opts_chunk$set(
  echo = FALSE, fig.path = 'myproject/plot-', cache = TRUE
)
</code></pre>

<p>Once options are set globally, all the following chunks will be affected by these options, so if you use an option frequently in many chunks, you may want to set it globally.</p>

<p>The advantage of using <strong>knitr</strong> is obvious: you only maintain the source code, and whenever you want a report, you just knit the source code, and everything will be generated automatically (tables, plots and numbers in lines). There is no need to manually copy and paste anything. Next time if you data source is changed, you simply run the process again, and all results can be updated. Let computers do the tedious job, because this is what they are good at. Humans should focus on other jobs like the statistical analysis and organization of the report.</p>

<h2 id="examples">Examples</h2>

<p>Two main differences among different file formats are: they use different syntax to wrap up R code in the input document (see <a href="../../patterns">patterns</a>), and the results returned from R are marked up according to the syntax of the output document (see <a href="../../hooks">hooks</a>). For instance, Rnw uses <code>&lt;&lt;</code> and <code>&gt;&gt;=</code>, and HTML uses <code>&lt;--!begin.rcode</code> and <code>end.rcode--&gt;</code> for the input; plots will be put in <code>\includegraphics{...}</code> for LaTeX output, and in <code>&lt;img src=...&gt;</code> for HTML output.</p>

<ul>
<li>Rnw

<ul>
<li>Rnw source: <a href="https://github.com/yihui/knitr/blob/master/inst/examples/knitr-minimal.Rnw">knitr-minimal.Rnw</a></li>
<li>PDF output: <a href="https://github.com/yihui/knitr/releases/download/doc/knitr-minimal.pdf">knitr-minimal.pdf</a></li>
<li>a more minimal <a href="https://github.com/yihui/knitr-examples/blob/master/002-minimal.Rnw">002-minimal.Rnw</a> (recommended for absolute beginners)</li>
</ul></li>
<li>Markdown

<ul>
<li>example 1: <a href="https://github.com/yihui/knitr-examples/blob/master/001-minimal.Rmd">001-minimal.Rmd</a></li>
<li>output: <a href="https://github.com/yihui/knitr-examples/blob/master/001-minimal.md">001-minimal.md</a> (GitHub does the job of parsing the md file to HTML)</li>
<li>example 2: <a href="https://github.com/yihui/knitr/blob/master/inst/examples/knitr-minimal.Rmd">knitr-minimal.Rmd</a></li>
<li>output: <a href="https://github.com/yihui/knitr/blob/master/inst/examples/knitr-minimal.md">knitr-minimal.md</a></li>
</ul></li>
<li>HTML

<ul>
<li>html source: <a href="https://github.com/yihui/knitr-examples/blob/master/003-minimal.Rhtml">knitr-minimal.Rhtml</a></li>
<li>output: <a href="https://rawgit.com/yihui/knitr-examples/master/003-minimal.html">knitr-minimal.html</a></li>
</ul></li>
<li>LaTeX

<ul>
<li>tex source: <a href="https://github.com/yihui/knitr-examples/blob/master/005-latex.Rtex">005-latex.Rtex</a></li>
</ul></li>
<li>reStructuredText

<ul>
<li>source: <a href="https://github.com/yihui/knitr-examples/blob/master/006-minimal.Rrst">knitr-minimal.Rrst</a></li>
<li>output: <a href="https://github.com/yihui/knitr-examples/blob/master/006-minimal.rst">knitr-minimal.rst</a></li>
</ul></li>
</ul>

<p>You can run <code>knit()</code> to knit the input file, e.g.,</p>

<pre><code class="language-r">library(knitr)
knit('knitr-minimal.Rnw')
knit('knitr-minimal.Rhtml')
knit('knitr-minimal.Rmd')
</code></pre>

<p>Note for the HTML demo, you need to install the <strong>rgl</strong> package to get the snapshot in the output.</p>

<h2 id="some-comments">Some comments</h2>

<p>One consideration in defining the default syntax for these files is that we should try not to break the syntax of other software systems, e.g. for LaTeX and HTML, the chunk options are written in comments, so the original document is still a valid TeX or HTML document. Unfortunately the original author(s) of literate programming did not seem to care about this issue at all, and invented the <code>&lt;&lt;&gt;&gt;=</code> + <code>@</code> syntax; then Sweave added more pseudo-LaTeX commands like <code>\SweaveOpts</code> and <code>\Sexpr</code>; we cannot do much about them since they have been used for many years, and we are likely to be in bigger troubles if we break these rules. The LaTeX example above only serves as an example of how I would have defined the syntax, and you may not really want to follow it.</p>

<p>As a final side note, the extension <code>Rnw</code> is a combination of <code>R</code> + <code>nw</code> where <code>nw</code> stands for <code>Noweb</code> (= <code>No</code> + <code>web</code>), and <code>WEB</code> was coined by Donald Knuth to denote the idea of weaving documents. Today probably everybody will think of WWW when seeing the word <code>web</code>.</p>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev"></span>
  <span class="nav-next"><a href="/knitr/demo/cache/">Cache</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
  } else if (e.which == 39) {  
    
    url = '\/knitr\/demo\/cache\/';
    
  }
  if (url) window.location = url;
});
</script>



<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
    this.page.url = "http:\/\/yihui.name" + location.pathname;
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//yihui.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var b = false, l = function() {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
    }
    
    if (location.hash.match(/^#comment/)) return(l());
    var t = d.getElementById('disqus_thread');
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>




<script async src="/js/external-link.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/math-code.js"></script>



<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">&copy; <a href="/">Yihui Xie</a> 2005 - 2018</div>
  
  </footer>
  </article>
  
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-1988641-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>

