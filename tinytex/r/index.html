<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>The R package tinytex - Helper Functions to Manage TinyTeX, and Compile LaTeX Documents  - Yihui Xie | 谢益辉</title>
    <meta property="og:title" content="The R package tinytex - Yihui Xie | 谢益辉">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="You can install the tinytex package from either CRAN or Github:
# CRAN version install.packages(&#39;tinytex&#39;) # or the development version on Github devtools::install_github(&#39;yihui/tinytex&#39;)  The package &amp;hellip;">
      <meta property="og:description" content="You can install the tinytex package from either CRAN or Github:
# CRAN version install.packages(&#39;tinytex&#39;) # or the development version on Github devtools::install_github(&#39;yihui/tinytex&#39;)  The package &amp;hellip;">
      
    

    
    
    
    <meta name="twitter:image" content="https://yihui.name/images/logo.png">
    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
<link rel="stylesheet" href="/css/custom.css" />

  </head>

  
  <body class="tinytex">
    <header class="masthead">
      

<h1><a href="/tinytex/"><img src="/images/logo-tinytex.png" alt="tinytex logo" /></a></h1>
<p class="tagline">TinyTeX: A lightweight and easy-to-maintain LaTeX distribution</p>


      <nav class="menu">
  <ul>
  
  
  <li><a href="/tinytex/">Home</a></li>
  
  <li><a href="/tinytex/faq/">FAQs</a></li>
  
  <li class="active"><a href="/tinytex/r/">R package</a></li>
  
  <li><a href="/tinytex/pain/">Hall of Pain</a></li>
  
  <li><a href="/tinytex/cn/">中文文档</a></li>
  
  <li><a href="https://github.com/yihui/tinytex">Github repo</a></li>
  
  <li><a href="/">Yihui Xie</a></li>
  
  

<li class="menu-extra"></li>



<li><a href="https://github.com/rbind/yihui/edit/master/content/tinytex%5cr.md" target="_blank">Edit this page</a></li>


<li><a href="/tinytex/index.xml" type="application/rss+xml" title="RSS feed">Subscribe</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">License</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>The R package tinytex</h1>
<h1><span class="subtitle">Helper Functions to Manage TinyTeX, and Compile LaTeX Documents</span></h2>

<h3>
2017-12-03</h3>

<hr>


      </header>





<p>You can install the <strong>tinytex</strong> package from either CRAN or Github:</p>

<pre><code class="language-r"># CRAN version
install.packages('tinytex')

# or the development version on Github
devtools::install_github('yihui/tinytex')
</code></pre>

<p>The package mainly provides two sets of functions: functions to manage TinyTeX, and those that help compile LaTeX documents to PDF.</p>

<h2 id="manage-tinytex">Manage TinyTeX</h2>

<p>The <code>tlmgr_*</code> family of functions calls the TeX Live utility <code>tlmgr</code> to manage TeX Live, e.g., install or update LaTeX packages. See <code>?tinytex::tlmgr</code> for the full documentation. The functions <code>tlmgr_search()</code>, <code>tlmgr_install()</code>, and <code>tlmgr_update()</code> may be the ones that you will most frequently use if you want to manage TeX Live by yourself.</p>

<h2 id="compile-latex-documents">Compile LaTeX Documents</h2>

<p>The &ldquo;loveliest&rdquo; feature of LaTeX is that you often have to compile a document multiple times to get the PDF, when you have cross-references (e.g., a bibliography or index).</p>

<p>A common reason for LaTeX to fail is missing LaTeX packages. Sometimes it is not straightforward to figure out which package is missing (certain packages may contain multiple <code>*.sty</code> or <code>*.cls</code> files). If you use pre-packaged TeX Live, this problem can be even worse. For example, on Debian/Ubuntu, LaTeX packages are grouped into collections and built to different Debian packages, so even only if one LaTeX package is missing, you have to install a big Debian package, which contains the package you need and possibly many other packages that you don&rsquo;t need.</p>

<p>The function <code>latexmk()</code> in <strong>tinytex</strong> tries to solve these two problems automatically. With a chosen LaTeX engine (<code>pdflatex</code>, <code>xelatex</code>, or <code>lualatex</code>), it compiles a LaTeX document three times by default, and also tries to install missing packages by default. The missing packages are detected from the LaTeX log via the function <code>tinytex::parse_packages()</code>.</p>

<p>You can change the maximum number of times to compile the document, and disable the automatic installation of missing packages. See <code>?tinytex::latexmk</code> for details.</p>

<p>The three function <code>pdflatex()</code>, <code>xelatex()</code>, and <code>lualatex()</code> are wrapper functions based on <code>latexmk()</code>. For example, <code>pdflatex()</code> is basically <code>latexmk(engine = 'pdflatex', emulation = TRUE)</code>.</p>

<p>The implementation is clumsy. Don&rsquo;t read the source code. I may not improve it in the future. I have wasted enough time on LaTeX, and a clumsy implementation should already save me a lot of time. Perfect is the enemy of good.</p>

<h2 id="debugging">Debugging</h2>

<p>If an error occurs when compiling a LaTeX to PDF, and the error message is not clear, you may set the option</p>

<pre><code class="language-r">options(tinytex.verbose = TRUE)
</code></pre>

<p>before you compile the document. If you are using R Markdown and the <code>Knit</code> button in RStudio, you should set the option in a code chunk in the R Markdown document.</p>

<h2 id="other-latex-distributions">Other LaTeX distributions</h2>

<p>The <strong>tinytex</strong> package is not tied to TinyTeX, although (unsurprisingly) it should work best with TinyTeX. Specifically:</p>

<ol>
<li><p>The feature of automatically compiling a LaTeX document for a number of times until all cross-references are resolved is available to any LaTeX distributions, e.g., you can use MiKTeX on Windows if you want.</p></li>

<li><p>The feature of automatically installing missing LaTeX packages requires the LaTeX distribution to be TeX Live (remember, TinyTeX is a custom version of TeX Live, so TinyTeX also works). It also requires <code>tlmgr install</code> to be able to install packages. If you use a copy of TeX Live or TinyTeX installed by your system admin, and you are not given the privileges to modify it, this feature won&rsquo;t work for you. If you installed TinyTeX on your personal computer, chances are it will work. This feature is not available to MiKTeX users, but you won&rsquo;t need it, either, because MiKTeX itself can automatically install missing packages, too.</p></li>
</ol>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/tinytex/cn/">TinyTeX 中文文档</a></span>
  <span class="nav-next"><a href="/tinytex/pain/">Why TinyTeX?</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/tinytex\/cn\/';
    
  } else if (e.which == 39) {  
    
    url = '\/tinytex\/pain\/';
    
  }
  if (url) window.location = url;
});
</script>



<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
    this.page.url = "http:\/\/yihui.name" + location.pathname;
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//yihui.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var b = false, l = function() {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
    }
    
    if (location.hash.match(/^#comment/)) return(l());
    var t = d.getElementById('disqus_thread');
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>




<script async src="/js/external-link.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/math-code.js"></script>




  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">&copy; <a href="/">Yihui Xie</a> 2005 - 2018</div>
  
  </footer>
  </article>
  
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-1988641-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>

