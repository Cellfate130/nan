<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>TinyTeX 中文文档 - Yihui Xie | 谢益辉</title>
    <meta property="og:title" content="TinyTeX 中文文档 - Yihui Xie | 谢益辉">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="TinyTeX 是一个瘦身版的 TeX Live。TeX Live 的庞大体型问题困扰我多年，在 2018 年之前我终于抽出一周时间来解决这个问题，其实方案很简单：把对普通用户毫无用处的源代码和文档去掉即可。具体技术细节参见常见问题，总体而言就是利用了 TeX Live 的自动化安装方式，配置文件中设置不要安装源文件和文档。
TinyTeX 假设你不惧怕或反感使用命令行，但其实需要的命令行指令并不 &amp;hellip;">
      <meta property="og:description" content="TinyTeX 是一个瘦身版的 TeX Live。TeX Live 的庞大体型问题困扰我多年，在 2018 年之前我终于抽出一周时间来解决这个问题，其实方案很简单：把对普通用户毫无用处的源代码和文档去掉即可。具体技术细节参见常见问题，总体而言就是利用了 TeX Live 的自动化安装方式，配置文件中设置不要安装源文件和文档。
TinyTeX 假设你不惧怕或反感使用命令行，但其实需要的命令行指令并不 &amp;hellip;">
      
    

    
    
    
    <meta name="twitter:image" content="https://yihui.name/images/logo.png">
    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
<link rel="stylesheet" href="/css/custom.css" />

  </head>

  
  <body class="tinytex">
    <header class="masthead">
      

<h1><a href="/tinytex/"><img src="/images/logo-tinytex.png" alt="tinytex logo" /></a></h1>
<p class="tagline">TinyTeX: A lightweight and easy-to-maintain LaTeX distribution</p>


      <nav class="menu">
  <ul>
  
  
  <li><a href="/tinytex/">Home</a></li>
  
  <li><a href="/tinytex/faq/">FAQs</a></li>
  
  <li><a href="/tinytex/r/">R package</a></li>
  
  <li><a href="/tinytex/pain/">Hall of Pain</a></li>
  
  <li class="active"><a href="/tinytex/cn/">中文文档</a></li>
  
  <li><a href="https://github.com/yihui/tinytex">Github repo</a></li>
  
  <li><a href="/">Yihui Xie</a></li>
  
  

<li class="menu-extra"></li>



<li><a href="https://github.com/rbind/yihui/edit/master/content/tinytex%5ccn.md" target="_blank">Edit this page</a></li>


<li><a href="/tinytex/index.xml" type="application/rss+xml" title="RSS feed">Subscribe</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">License</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>TinyTeX 中文文档</h1>


<h3>
2017-12-03</h3>

<hr>


      </header>





<p>TinyTeX 是一个瘦身版的 <a href="https://tug.org/texlive/">TeX Live</a>。TeX Live 的庞大体型问题<a href="https://yihui.name/cn/2017/06/lightweight-texlive/">困扰我多年</a>，在 2018 年之前我终于抽出一周时间来解决这个问题，其实方案很简单：把对普通用户毫无用处的源代码和文档去掉即可。具体技术细节参见<a href="/tinytex/faq/">常见问题</a>，总体而言就是利用了 TeX Live 的自动化安装方式，配置文件中设置不要安装源文件和文档。</p>

<p>TinyTeX 假设你不惧怕或反感使用命令行，但其实需要的命令行指令并不复杂，常见任务都可以通过一行命令搞定。如果不清楚如何打开系统命令行窗口，请参见常见问题。</p>

<h2 id="安装">安装</h2>

<p>TinyTeX 的安装和维护对 R 用户来说最简单，两行 R 代码加上两到六分钟的等待时间：</p>

<pre><code class="language-r">devtools::install_github('yihui/tinytex')
tinytex::install_tinytex()
</code></pre>

<p>安装 TinyTeX 之前建议卸载系统中已有的 LaTeX 套件，如 TeX Live、MiKTeX、MacTeX 等。一个系统中最好不要有两个 LaTeX 套件同时存在，否则可能会产生冲突。</p>

<p>对其它用户，请参阅<a href="/tinytex/">首页</a>上的脚本安装方式，通常就是打开命令行窗口，运行一行命令即可。该命令会自动下载 TeX Live 的安装脚本并自动安装，由于是从网络下载安装 TeX Live，所以具体等待时间取决于网速。Unix 系统应该不会超过两分钟，Windows 系统可能需要五分钟左右（其间可能会弹出两次<a href="https://db.yihui.name/images/install-tl-win-lua.png">错误对话框</a>，点确定即可；如果杀毒软件弹出警告，请允许修改）。</p>

<h2 id="维护">维护</h2>

<p>TinyTeX 的主要维护工作应该是安装 LaTeX 包以及更新。如果编译 PDF 时出现缺失 LaTeX 包的错误信息，可以用命令行 <code>tlmgr search</code> 根据缺失文件名搜索包名，并用 <code>tlmgr install</code> 安装缺失的包；命令 <code>tlmgr update --self --all</code> 可以更新整个 TeX Live 系统。R 用户可以使用 <a href="/tinytex/r/">R 包 <strong>tinytex</strong></a> 中的相应函数，如：</p>

<pre><code class="language-r">library(tinytex)
tlmgr_search('framed.sty')  # 搜索包含 framed.sty 文件的 LaTeX 包
tlmgr_install('framed')     # 安装 framed 包
tlmgr_update()              # 更新 TeX Live
</code></pre>

<p>在 <strong>tinytex</strong> 包中还有一系列函数用来编译 LaTeX 文档，核心函数是 <code>latexmk()</code>，它主要是为了模拟 LaTeX 工具 <code>latexmk</code>，即：重要的 LaTeX 文档默认编三遍。如果你不懂这句话，那么恭喜你，不懂更好，不要在它上面浪费时间。还有另一个非常有用的功能，就是模拟 Windows 上 MiKTeX（当然现在 MikTeX 似乎并不局限于 Windows 了）：编译 LaTeX 文档过程中默认自动检测并安装缺失的 LaTeX 包。能自动化的都自动化，不必费劲去跑 <code>tlmgr search</code> 或 <code>tlmgr install</code> 之类的命令。</p>

<p>具体调用时，你可能会根据你需要的 LaTeX 引擎使用 <strong>tinytex</strong> 中的这三个函数之一： <code>pdflatex()</code>、<code>xelatex()</code>、<code>lualatex()</code>。看函数名应该就知道各自分别使用哪个 LaTeX 引擎。</p>

<h2 id="r-markdown-用户">R Markdown 用户</h2>

<p><strong>rmarkdown</strong> 包从版本 1.9 开始，编译 R Markdown 为 PDF 时会调用 <strong>tinytex</strong>，这样一来，R Markdown 用户的 LaTeX 世界应该就安静了：因为对 R Markdown 用户来说，编译 PDF 的头号出错可能就是缺失 LaTeX 包（Pandoc 翻译 Markdown 为 LaTeX 代码时，几乎不太可能产生 LaTeX 语法错误），而可怜的 R 用户哪能明白那错误消息是什么意思。</p>

<h2 id="结语">结语</h2>

<p>时间有限，中文文档只能写这么长；若有疑问，请参考首页以及常见问题。</p>

<p>LaTeX 排版很美丽，但它常让我们忘了自己的身份特么到底是作者还是排版工人；它就像一个永远长不大的孩子，没日没夜呼唤你的注意（唉哟，人家找不到 <code>framed.sty</code> 文件啦；哎呀，人家没法编出参考文献列表啦，请你看看你的 <code>.aux</code> 文件好不）。但愿这个 TinyTeX 套件以及 R 包 <strong>tinytex</strong> 能让它消停会儿。</p>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/tinytex/faq/">Frequently (?) Asked Questions</a></span>
  <span class="nav-next"><a href="/tinytex/r/">The R package tinytex</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/tinytex\/faq\/';
    
  } else if (e.which == 39) {  
    
    url = '\/tinytex\/r\/';
    
  }
  if (url) window.location = url;
});
</script>



<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
    this.page.url = "http:\/\/yihui.name" + location.pathname;
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//yihui.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var b = false, l = function() {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
    }
    
    if (location.hash.match(/^#comment/)) return(l());
    var t = d.getElementById('disqus_thread');
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>




<script async src="/js/external-link.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/math-code.js"></script>




  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">&copy; <a href="/">Yihui Xie</a> 2005 - 2018</div>
  
  </footer>
  </article>
  
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-1988641-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>

